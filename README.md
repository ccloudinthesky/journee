# Journee - æ—…éŠè¡Œç¨‹è¦åŠƒæ‡‰ç”¨ç¨‹å¼

ä¸€å€‹äº’å‹•å¼æ—…éŠè¡Œç¨‹è¦åŠƒæ‡‰ç”¨ï¼Œèˆ‡ Google Maps æ•´åˆï¼Œå¹«åŠ©ä½ æ›´ç›´è§€åœ°çµ„ç¹”æ—…éŠè¡Œç¨‹ã€‚
<img width="1470" height="918" alt="image" src="https://github.com/user-attachments/assets/589f931f-db59-41e6-a4ed-b1b1ca98b61b" />
<img width="1470" height="828" alt="image" src="https://github.com/user-attachments/assets/8bee6d0b-b2a6-4cfe-b86e-d1f48c28004d" />


## ğŸŒŸ å°ˆæ¡ˆç°¡ä»‹

Journee æ˜¯ä¸€å€‹æ—…éŠè¡Œç¨‹è¦åŠƒç³»çµ±ï¼Œç‚ºå¹«åŠ©ä½¿ç”¨è€…è¦åŠƒå’Œç®¡ç†æ—…éŠè¡Œç¨‹è€Œè¨­è¨ˆã€‚ç›¸è¼ƒæ–¼åœ¨ Google åœ°åœ–æŠŠæƒ³å»çš„åœ°é»å…¨éƒ½æ”¶è—åœ¨ä¸€å€‹è³‡æ–™å¤¾è£¡ï¼Œé€éé€™å€‹æ‡‰ç”¨ï¼Œä½¿ç”¨è€…å¯ä»¥è¼•é¬†åœ°æŠŠæ‰€æœ‰æƒ³å»çš„åœ°é»åˆ†é…åˆ°æ—…ç¨‹ä¸­æ¯ä¸€å¤©çš„è¡Œç¨‹ç•¶ä¸­ã€‚ä¸¦ä¸”è—‰ç”±åœ–ç¤ºæ­é…æ‹–æ›³èª¿æ•´é †åºï¼Œå¯ä»¥å¾ˆç›´è§€åœ°å°‡æ¥è¿‘çš„åœ°é»å®‰æ’æˆä¸€å€‹é †æš¢çš„è·¯ç·šï¼Œé”åˆ°è¼•é¬†è¦åŠƒæ¯æ—¥è¡Œç¨‹ã€ç®¡ç†æ™¯é»é †åºçš„åŠŸèƒ½ã€‚

### ä½¿ç”¨æƒ…å¢ƒ

- **å€‹äººæ—…éŠè¦åŠƒ**ï¼šè¦åŠƒå€‹äººæˆ–åœ˜é«”æ—…éŠè¡Œç¨‹
- **æ™¯é»æ¢ç´¢**ï¼šæœå°‹ä¸¦ä¿å­˜æ„Ÿèˆˆè¶£çš„æ™¯é»
- **è¡Œç¨‹ç®¡ç†**ï¼šä½¿ç”¨æ‹–æ”¾åŠŸèƒ½èª¿æ•´æ™¯é»é †åº
- **åœ°åœ–è¦–è¦ºåŒ–**ï¼šåœ¨åœ°åœ–ä¸ŠæŸ¥çœ‹è¡Œç¨‹é †åºå’Œæ¨™è¨˜

### ä¸»è¦åŠŸèƒ½

#### å‰ç«¯åŠŸèƒ½
- **äº’å‹•å¼è¡Œç¨‹ç®¡ç†**
  - å¡ç‰‡å¼ä»‹é¢å±•ç¤ºæ‰€æœ‰è¡Œç¨‹
  - ä¾æ™‚é–“ç¯„åœç¯©é¸è¡Œç¨‹ï¼ˆä¸€é€±å…§ã€ä¸€å€‹æœˆå…§ã€æœ€è¿‘ç·¨è¼¯ï¼‰
  - é»æ“ŠæŸ¥çœ‹è©³ç´°è¡Œç¨‹

- **æ‹–æ”¾åŠŸèƒ½**
  - ä½¿ç”¨ Google Places API æœå°‹åœ°é»
  - å°‡åœ°é»å¾æœå°‹çµæœæ‹–æ”¾åˆ°ç‰¹å®šæ—¥æœŸ
  - åœ¨åŒä¸€å¤©å…§é‡æ–°æ’åºåœ°é»

- **Google Maps æ•´åˆ**
  - äº’å‹•å¼åœ°åœ–é¡¯ç¤ºæ‰€æœ‰åœ°é»
  - ç·¨è™Ÿæ¨™è¨˜é¡¯ç¤ºåƒè§€é †åº
  - ä¸åŒåœ°é»é¡å‹ä½¿ç”¨ä¸åŒé¡è‰²æ¨™è¨˜
  - è³‡è¨Šè¦–çª—é¡¯ç¤ºåœ°é»è©³ç´°è³‡è¨Š

- **åœ°é»ç®¡ç†**
  - æœå°‹é¤å»³ã€å’–å•¡å»³ã€ä½å®¿å’Œæ™¯é»
  - æŸ¥çœ‹åœ°é»è©³æƒ…ï¼ˆåç¨±ã€åœ°å€ã€è©•åˆ†ã€ç‡Ÿæ¥­æ™‚é–“ï¼‰
  - åœ¨æ¯æ—¥è¡Œç¨‹ä¸­æ–°å¢/ç§»é™¤åœ°é»
  - ä¾é¡åˆ¥ç¯©é¸

#### å¾Œç«¯åŠŸèƒ½
- **ç”¨æˆ¶èªè­‰**ï¼šè¨»å†Šã€ç™»å…¥ã€JWT token é©—è­‰
- **è¡Œç¨‹ç®¡ç†**ï¼šCRUD æ“ä½œã€è‡ªå‹•æ—¥æœŸè¨ˆç®—
- **åœ°é»ç®¡ç†**ï¼šå„²å­˜åœ°é»ã€é—œè¯åˆ°è¡Œç¨‹ã€æ’åº

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Frontend                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   React 18   â”‚  â”‚   Vite + TS  â”‚  â”‚ TailwindCSS   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                 Google Maps API                       â”‚  â”‚
â”‚  â”‚    (Maps JavaScript API, Places API)                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTP/REST API
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Backend                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  Express.js  â”‚  â”‚   JWT Auth   â”‚  â”‚   TypeScript  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    SQLite DB                         â”‚  â”‚
â”‚  â”‚  (users, trips, saved_locations, day_schedules)       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Google Maps Services API                 â”‚  â”‚
â”‚  â”‚      (Places API, Geocoding API, Directions API)     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è³‡æ–™åº«çµæ§‹

```
users
â”œâ”€â”€ id (PRIMARY KEY)
â”œâ”€â”€ email (UNIQUE)
â”œâ”€â”€ username
â”œâ”€â”€ password_hash
â””â”€â”€ created_at

trips
â”œâ”€â”€ id (PRIMARY KEY)
â”œâ”€â”€ user_id (FOREIGN KEY -> users.id)
â”œâ”€â”€ name
â”œâ”€â”€ start_date
â”œâ”€â”€ end_date
â”œâ”€â”€ cover_image
â””â”€â”€ created_at

saved_locations
â”œâ”€â”€ id (PRIMARY KEY)
â”œâ”€â”€ user_id (FOREIGN KEY -> users.id)
â”œâ”€â”€ trip_id (FOREIGN KEY -> trips.id)
â”œâ”€â”€ name
â”œâ”€â”€ address
â”œâ”€â”€ place_id
â”œâ”€â”€ lat, lng
â””â”€â”€ type (restaurant/cafe/accommodation/attraction)

day_schedules
â”œâ”€â”€ id (PRIMARY KEY)
â”œâ”€â”€ trip_id (FOREIGN KEY -> trips.id)
â”œâ”€â”€ day_number
â”œâ”€â”€ position
â””â”€â”€ saved_location_id (FOREIGN KEY -> saved_locations.id)
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å‰ç½®éœ€æ±‚

- Node.js (v18 æˆ–æ›´é«˜ç‰ˆæœ¬)
- npm æˆ– yarn
- Google Cloud Platform å¸³è™Ÿï¼ˆç”¨æ–¼ Google Maps APIï¼‰

### å¾Œç«¯è¨­å®š

#### 1. å®‰è£ä¾è³´

```bash
cd backend
npm install
```

#### 2. è¨­å®šç’°å¢ƒè®Šæ•¸

è¤‡è£½ `.env.example` ä¸¦å»ºç«‹ `.env` æª”æ¡ˆï¼š

```bash
cp .env.example .env
```

ç·¨è¼¯ `.env` ä¸¦å¡«å…¥ä½ çš„è¨­å®šï¼š

```env
PORT=3000
NODE_ENV=development
JWT_SECRET=your-secret-key-here-change-in-production
JWT_EXPIRES_IN=7d
GOOGLE_MAPS_API_KEY=your-google-maps-api-key
DATABASE_PATH=./database/journee.db
FRONTEND_URL=http://localhost:5173
```

**é‡è¦ï¼šJWT_SECRET è¨­å®š**

ç‚ºå®‰å…¨èµ·è¦‹ï¼Œè«‹ç”¢ç”Ÿä¸€å€‹ JWT Secretï¼š

```bash
# æ–¹æ³• 1ï¼šä½¿ç”¨ Node.js
node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"

# æ–¹æ³• 2ï¼šä½¿ç”¨ opensslï¼ˆMac/Linuxï¼‰
openssl rand -base64 32

# æ–¹æ³• 3ï¼šä½¿ç”¨ç·šä¸Šå·¥å…·ï¼ˆä¸å»ºè­°ç”¨æ–¼ç”Ÿç”¢ç’°å¢ƒï¼‰
# å‰å¾€ï¼šhttps://generate-secret.vercel.app/32
```

å°‡ç”¢ç”Ÿçš„å­—ä¸²è¤‡è£½åˆ° `.env` çš„ `JWT_SECRET=` å¾Œé¢ã€‚

**ç¯„ä¾‹**ï¼š
```env
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
```

#### 3. å•Ÿå‹•å¾Œç«¯æœå‹™å™¨

```bash
npm run dev
```

å¾Œç«¯æœå‹™å™¨æœƒå•Ÿå‹•åœ¨ `http://localhost:3000`ã€‚

**é‡è¦**ï¼š
- è³‡æ–™åº«æœƒåœ¨ç¬¬ä¸€æ¬¡å•Ÿå‹•æ™‚è‡ªå‹•å»ºç«‹åœ¨ `./database/journee.db`
- æ–°ç”¨æˆ¶è¨»å†Šæ™‚æœƒè‡ªå‹•ç²å¾— 2 å€‹ç¯„ä¾‹è¡Œç¨‹ï¼ˆParis å’Œ Tainanï¼‰
- å¦‚éœ€é‡ç½®è³‡æ–™åº«ï¼ŒåŸ·è¡Œï¼š`npm run reset-db`

### å‰ç«¯è¨­å®š

#### 1. å®‰è£ä¾è³´

```bash
cd frontend
npm install
```

#### 2. è¨­å®šç’°å¢ƒè®Šæ•¸

å»ºç«‹ `.env` æª”æ¡ˆï¼š

```bash
# å¦‚æœé‚„æ²’æœ‰ .env æª”æ¡ˆ
cp .env.example .env
```

ç·¨è¼¯ `.env` ä¸¦å¡«å…¥ä½ çš„ Google Maps API Keyï¼š

```env
VITE_GOOGLE_MAPS_API_KEY=your_browser_api_key_here
VITE_API_BASE_URL=http://localhost:3000/api
```

#### 3. å•Ÿå‹•å‰ç«¯é–‹ç™¼ä¼ºæœå™¨

```bash
npm run dev
```

å‰ç«¯æ‡‰ç”¨æœƒå•Ÿå‹•åœ¨ `http://localhost:5173`ã€‚


## ğŸ“‹ ç’°å¢ƒè®Šæ•¸èªªæ˜

### Backend `.env`

```env
# æœå‹™å™¨é…ç½®
PORT=3000                                    # å¾Œç«¯æœå‹™å™¨ç«¯å£
NODE_ENV=development                         # ç’°å¢ƒï¼ˆdevelopment/productionï¼‰
FRONTEND_URL=http://localhost:5173            # å‰ç«¯ URLï¼ˆCORS è¨­å®šï¼‰

# JWT èªè­‰
JWT_SECRET=your-secret-key-here              # JWT å¯†é‘°ï¼ˆç”Ÿç”¢ç’°å¢ƒè«‹æ›´æ”¹ï¼‰
JWT_EXPIRES_IN=7d                           # Token éæœŸæ™‚é–“

# è³‡æ–™åº«
DATABASE_PATH=./database/journee.db         # SQLite è³‡æ–™åº«è·¯å¾‘

# Google Maps API
GOOGLE_MAPS_API_KEY=your-google-maps-api-key  # Google Maps Server Key
```

### Frontend `.env`

```env
# Google Maps APIï¼ˆç€è¦½å™¨ç«¯ï¼‰
VITE_GOOGLE_MAPS_API_KEY=your_browser_api_key_here

# API ç«¯é»
VITE_API_BASE_URL=http://localhost:3000/api
```

## ğŸ“– ä½¿ç”¨æµç¨‹

### 1. è¨»å†Šèˆ‡ç™»å…¥

é¦–æ¬¡ä½¿ç”¨è«‹è¨»å†Šå¸³è™Ÿï¼Œç³»çµ±æœƒè‡ªå‹•ç‚ºä½ å»ºç«‹ 2 å€‹ç¯„ä¾‹è¡Œç¨‹ï¼ˆParis å’Œ Tainanï¼‰ï¼Œè®“ä½ äº†è§£å¦‚ä½•ä½¿ç”¨ç³»çµ±ã€‚

### 2. å‰µå»ºæ–°è¡Œç¨‹

1. é»æ“Šã€Œå‰µå»ºæ–°è¡Œç¨‹ã€æŒ‰éˆ•
2. å¡«å…¥è¡Œç¨‹è³‡è¨Šï¼š
   - **è¡Œç¨‹åç¨±**ï¼šä¾‹å¦‚ã€Œæ±äº¬äº”æ—¥éŠã€
   - **é–‹å§‹æ—¥æœŸ**ï¼š2025-03-01
   - **çµæŸæ—¥æœŸ**ï¼š2025-03-05
   - **å°é¢åœ–ç‰‡**ï¼šä½¿ç”¨ä¸‹æ–¹æä¾›çš„åœ–ç‰‡é€£çµï¼ˆåƒè¦‹ã€Œåœ–ç‰‡é€£çµå»ºè­°ã€ï¼‰

### 3. æ¢ç´¢èˆ‡æœå°‹æ™¯é»

1. æ‰“é–‹è¡Œç¨‹è©³æƒ…é é¢
2. ä½¿ç”¨é ‚éƒ¨çš„æœå°‹æ¡†è¼¸å…¥åœ°é»åç¨±
3. å¾ä¸‹æ‹‰é¸å–®ä¸­é¸æ“‡ç›®æ¨™åœ°é»
4. æŸ¥çœ‹åœ°é»è³‡è¨Šï¼ˆåœ°å€ã€ç‡Ÿæ¥­æ™‚é–“ï¼‰

### 4. ç®¡ç†æ™¯é»

**æ·»åŠ åˆ°è¡Œç¨‹**ï¼š
- é»æ“Šæœå°‹çµæœçš„ã€Œä¿å­˜åˆ°æ”¶è—ã€æŒ‰éˆ•
- æ‰“é–‹ã€ŒAdd Scheduleã€é¢æ¿
- é»æ“Šæ™¯é»å¡ç‰‡çš„ã€ŒAdd to Dayã€æŒ‰éˆ•
- é¸æ“‡è¦åŠ å…¥çš„æ—¥æœŸ

**æ’åºæ™¯é»**ï¼š
- åœ¨å´é‚Šæ¬„æ‹–å‹•åœ°é»å¡ç‰‡
- è‡ªå‹•æ›´æ–°åœ°åœ–ä¸Šçš„é †åºå’Œè·¯ç·š

**ç§»é™¤æ™¯é»**ï¼š
- é»æ“Šåœ°é»å¡ç‰‡å³ä¸Šè§’çš„ã€ŒXã€æŒ‰éˆ•

### 5. æŸ¥çœ‹è¡Œç¨‹åœ°åœ–

- åœ°åœ–æœƒè‡ªå‹•é¡¯ç¤ºæ‰€æœ‰åœ°é»
- ä¸åŒçš„é¡è‰²ä»£è¡¨ä¸åŒé¡å‹ï¼š
  - ğŸ½ï¸ **é¤å»³** - ç´«è‰²
  - â˜• **å’–å•¡å»³** - é‡‘é»ƒè‰²
  - ğŸ¨ **ä½å®¿** - ç¶ è‰²
  - â­ **æ™¯é»** - è—è‰²

### åœ–ç‰‡é€£çµå»ºè­°

å‰µå»ºè¡Œç¨‹æ™‚ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¾†æºçš„åœ–ç‰‡é€£çµä½œç‚ºå°é¢ï¼š

#### Unsplashï¼ˆæ¨è–¦ - é«˜å“è³ªå…è²»åœ–ç‰‡ï¼‰

**ä½¿ç”¨ Unsplash çš„æ–¹æ³•**ï¼š
1. å‰å¾€ [Unsplash](https://unsplash.com/)
2. æœå°‹ä½ çš„ç›®çš„åœ°é—œéµå­—
3. é¸æ“‡ä¸€å¼µå–œæ­¡çš„åœ–ç‰‡
4. é»æ“Šåœ–ç‰‡å³éµ â†’ã€Œè¤‡è£½åœ–ç‰‡ç¶²å€ã€

#### Pexelsï¼ˆå¦ä¸€å€‹å…è²»åœ–ç‰‡åº«ï¼‰

**ä½¿ç”¨ Pexels çš„æ–¹æ³•**ï¼š
1. å‰å¾€ [Pexels](https://www.pexels.com/)
2. æœå°‹ç›¸é—œé—œéµå­—
3. é¸æ“‡åœ–ç‰‡ä¸¦è¤‡è£½é€£çµ

## ğŸ”Œ API æ–‡æª”

### Base URL

- é–‹ç™¼ç’°å¢ƒï¼š`http://localhost:3000/api`
- ç”Ÿç”¢ç’°å¢ƒï¼š`https://your-domain.com/api`

### èªè­‰

å¤§éƒ¨åˆ† API ç«¯é»éœ€è¦ JWT Tokenã€‚å–å¾— Token çš„æ–¹å¼ï¼š

1. è¨»å†Šæ–°ç”¨æˆ¶ï¼š`POST /api/auth/register`
2. ç™»å…¥ï¼š`POST /api/auth/login`
3. åœ¨å¾ŒçºŒè«‹æ±‚çš„ Header ä¸­åŠ å…¥ï¼š`Authorization: Bearer <token>`

### API ç«¯é»ä¸€è¦½

#### èªè­‰ç›¸é—œ

| æ–¹æ³• | ç«¯é» | èªªæ˜ | éœ€è¦èªè­‰ |
|------|------|------|----------|
| POST | `/api/auth/register` | è¨»å†Šæ–°ç”¨æˆ¶ | âŒ |
| POST | `/api/auth/login` | ç™»å…¥ | âŒ |
| POST | `/api/auth/logout` | ç™»å‡º | âŒ |
| GET | `/api/auth/profile` | ç²å–ç•¶å‰ç”¨æˆ¶è³‡è¨Š | âœ… |

#### è¡Œç¨‹ç›¸é—œ

| æ–¹æ³• | ç«¯é» | èªªæ˜ | éœ€è¦èªè­‰ |
|------|------|------|----------|
| GET | `/api/trips` | ç²å–æ‰€æœ‰è¡Œç¨‹ | âœ… |
| GET | `/api/trips/:id` | ç²å–å–®ä¸€è¡Œç¨‹ | âœ… |
| POST | `/api/trips` | å‰µå»ºæ–°è¡Œç¨‹ | âœ… |
| PUT | `/api/trips/:id` | æ›´æ–°è¡Œç¨‹ | âœ… |
| DELETE | `/api/trips/:id` | åˆªé™¤è¡Œç¨‹ | âœ… |

#### è¡Œç¨‹åœ°é»ç®¡ç†

| æ–¹æ³• | ç«¯é» | èªªæ˜ | éœ€è¦èªè­‰ |
|------|------|------|----------|
| POST | `/api/trips/:id/days/:dayNumber/locations` | æ–°å¢åœ°é»åˆ°æŒ‡å®šæ—¥æœŸ | âœ… |
| DELETE | `/api/trips/:id/days/:dayNumber/locations/:locationId` | å¾æ—¥æœŸç§»é™¤åœ°é» | âœ… |
| PUT | `/api/trips/:id/days/:dayNumber/locations/reorder` | é‡æ–°æ’åºåœ°é» | âœ… |

#### å„²å­˜åœ°é»ç›¸é—œ

| æ–¹æ³• | ç«¯é» | èªªæ˜ | éœ€è¦èªè­‰ |
|------|------|------|----------|
| GET | `/api/saved-locations` | ç²å–æ‰€æœ‰å„²å­˜åœ°é» | âœ… |
| GET | `/api/saved-locations/:id` | ç²å–å–®ä¸€å„²å­˜åœ°é» | âœ… |
| POST | `/api/saved-locations` | å‰µå»ºå„²å­˜åœ°é» | âœ… |
| PUT | `/api/saved-locations/:id` | æ›´æ–°å„²å­˜åœ°é» | âœ… |
| DELETE | `/api/saved-locations/:id` | åˆªé™¤å„²å­˜åœ°é» | âœ… |

#### Google Maps ç›¸é—œ

| æ–¹æ³• | ç«¯é» | èªªæ˜ | éœ€è¦èªè­‰ |
|------|------|------|----------|
| POST | `/api/google-maps/search` | æœå°‹åœ°é» | âœ… |
| POST | `/api/google-maps/details` | ç²å–åœ°é»è©³æƒ… | âœ… |
| POST | `/api/google-maps/geocode` | åœ°ç†ç·¨ç¢¼ | âœ… |

### API è«‹æ±‚ç¯„ä¾‹ï¼ˆä½¿ç”¨ curlï¼‰

#### 1. è¨»å†Šæ–°ç”¨æˆ¶

```bash
curl -X POST http://localhost:3000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "username": "testuser",
    "password": "password123"
  }'
```

**å›æ‡‰**ï¼š
```json
{
  "success": true,
  "data": {
    "user": {
      "id": "xxx-xxx-xxx",
      "email": "test@example.com",
      "username": "testuser",
      "created_at": "2024-10-26T..."
    },
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  },
  "message": "User registered successfully"
}
```

âš ï¸ **æ³¨æ„**ï¼šè¨»å†ŠæˆåŠŸå¾Œæœƒè‡ªå‹•å»ºç«‹ 2 å€‹ç¯„ä¾‹è¡Œç¨‹ï¼ˆParis å’Œ Tainanï¼‰ã€‚

#### 2. ç™»å…¥

```bash
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "password": "password123"
  }'
```

**å›æ‡‰**ï¼š
```json
{
  "success": true,
  "data": {
    "user": {...},
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  },
  "message": "Login successful"
}
```

#### 3. ç²å–ç•¶å‰ç”¨æˆ¶è³‡è¨Šï¼ˆå«æˆæ¬Šï¼‰

```bash
# ä½¿ç”¨ä¸Šä¸€æ­¥é©Ÿå–å¾—çš„ token
curl -X GET http://localhost:3000/api/auth/profile \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
```

**å›æ‡‰**ï¼š
```json
{
  "success": true,
  "data": {
    "id": "xxx-xxx-xxx",
    "email": "test@example.com",
    "username": "testuser",
    "created_at": "2024-10-26T..."
  },
  "message": "Profile retrieved successfully"
}
```

#### 4. ç²å–æ‰€æœ‰è¡Œç¨‹ï¼ˆå«æˆæ¬Šï¼‰

```bash
curl -X GET http://localhost:3000/api/trips \
  -H "Authorization: Bearer <your_token_here>"
```

**å›æ‡‰**ï¼š
```json
{
  "success": true,
  "data": [
    {
      "id": "trip-1",
      "name": "Paris",
      "startDate": "2025-12-01",
      "endDate": "2025-12-05",
      "coverImage": "...",
      "days": [...]
    }
  ],
  "message": "Trips retrieved successfully"
}
```

#### 5. å‰µå»ºæ–°è¡Œç¨‹ï¼ˆå«æˆæ¬Šï¼‰

   ```bash
curl -X POST http://localhost:3000/api/trips \
  -H "Authorization: Bearer <your_token_here>" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "æ±äº¬è‡ªç”±è¡Œ",
    "startDate": "2025-03-01",
    "endDate": "2025-03-05",
    "coverImage": "https://example.com/image.jpg"
  }'
```

**å›æ‡‰**ï¼š
```json
{
  "success": true,
  "data": {
    "id": "new-trip-id",
    "name": "æ±äº¬è‡ªç”±è¡Œ",
    "startDate": "2025-03-01",
    "endDate": "2025-03-05",
    "days": []
  },
  "message": "Trip created successfully"
}
```

## ğŸ› ï¸ æŠ€è¡“æ£§

### Frontend
- **React 18** - UI æ¡†æ¶
- **TypeScript** - å‹åˆ¥å®‰å…¨
- **Vite** - å»ºç½®å·¥å…·
- **TailwindCSS** - æ¨£å¼
- **React Router v6** - å®¢æˆ¶ç«¯è·¯ç”±
- **@dnd-kit** - æ‹–æ”¾åŠŸèƒ½
- **@googlemaps/js-api-loader** - Google Maps æ•´åˆ
- **Axios** - HTTP å®¢æˆ¶ç«¯

### Backend
- **Node.js + Express** - Web æ¡†æ¶
- **TypeScript** - å‹åˆ¥å®‰å…¨
- **SQLite** - è³‡æ–™åº«
- **JWT** - èªè­‰
- **bcrypt** - å¯†ç¢¼é›œæ¹Š
- **@googlemaps/google-maps-services-js** - Google Maps API

## ğŸ” å®‰å…¨æ€§èªªæ˜

### âš ï¸ é‡è¦è­¦å‘Šï¼šServer Key ç„¡ IP é™åˆ¶

ç›®å‰å°ˆæ¡ˆä¸­çš„ Google Maps Server Key æ²’æœ‰ IP é™åˆ¶è¨­å®šï¼Œå­˜åœ¨ä»¥ä¸‹å®‰å…¨é¢¨éšªï¼š

#### é¢¨éšª
1. **API Key æ´©æ¼**ï¼šå¦‚æœ API Key è¢«å…¬é–‹æˆ–æ´©æ¼ï¼Œä»–äººå¯èƒ½ï¼š
   - ä½¿ç”¨ä½ çš„ API é…é¡
   - ç”¢ç”Ÿè²»ç”¨ï¼ˆè¶…å‡º $200 å…è²»é¡åº¦ï¼‰
   - æ¿«ç”¨ä½ çš„ Google Cloud è³‡æº

2. **æœªæˆæ¬Šä½¿ç”¨**ï¼šä»»ä½•äººéƒ½å¯ä»¥ä½¿ç”¨ä½ çš„ API Key é€²è¡Œ Google Maps æœå‹™è«‹æ±‚


## ğŸš§ æœªä¾†æ”¹é€²æ–¹å‘

### è³‡æ–™åº«ç›¸é—œ
1. **ç…§ç‰‡ URL æœƒéæœŸ**ï¼šå¾ Google Places API å–å¾—çš„éƒ¨åˆ†ç…§ç‰‡ URL å¯èƒ½æœƒåœ¨ä¸€æ®µæ™‚é–“å¾ŒéæœŸ
   - æš«æ™‚è§£æ±ºï¼šç…§ç‰‡ä»å¯é¡¯ç¤ºä¸€æ®µæ™‚é–“
   - æœªä¾†æ”¹é€²ï¼šå¯¦ä½œç…§ç‰‡å¿«å–æ©Ÿåˆ¶

### åŠŸèƒ½ç›¸é—œ
2. **è·¯å¾‘è¦åŠƒ**ï¼šæœªä¾†å¯æ•´åˆ Directions API æ–°å¢åŠŸèƒ½

3. **å¤šç”¨æˆ¶å”ä½œ**ï¼šç›®å‰ä¸æ”¯æ´å¤šäººåŒæ™‚ç·¨è¼¯åŒä¸€è¡Œç¨‹
   - æœªä¾†å¯åŠ å…¥å³æ™‚å”ä½œåŠŸèƒ½


## ğŸ™ è‡´è¬

- Unsplash - ç¾éº—çš„ç…§ç‰‡
- Lucide - åœ–æ¨™
